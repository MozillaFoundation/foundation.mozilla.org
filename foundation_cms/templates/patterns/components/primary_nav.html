{% load static i18n l10n %}
<nav role="navigation" class="primary-nav-ns">
  <div class="grid-container">
    <div class="primary-nav-ns__grid hidden-wordmark">

      <!-- Hamburguer Menu -->
      <div class="primary-nav-ns__grid-cell primary-nav-ns__hamburger">
        <button class="hamburger hamburger--collapse" type="button" aria-label="{% trans "Toggle navigation" %}" aria-controls="primary-nav-ns-menu">
          <div class="inner">
            <span class="bar"></span>
            <span class="bar"></span>
            <span class="bar"></span>
          </div>
        </button>
      </div>

      <!-- Wordmark -->
      <div class="primary-nav-ns__grid-cell primary-nav-ns__wordmark hidden">

        <a href="/" aria-label="{% trans "Mozilla Foundation homepage" %}">

          <img data-name="logo" src="{% static 'foundation_cms/_images/primary-nav-wordmark-logo.svg' %}" alt="{% trans "Mozilla Foundation Logo" %}" width="229" height="48" />
          <img data-name="symbol" src="{% static 'foundation_cms/_images/primary-nav-wordmark-symbol.svg' %}" alt="{% trans "Mozilla Foundation Symbol" %}" width="29" height="28" />

        </a>

      </div>

      <!-- Menu, accordion for mobile, dropdown for desktop -->
      <div class="primary-nav-ns__grid-cell primary-nav-ns__menu-wrapper">
        <div class="primary-nav-ns__menu">

          <div class="primary-nav-ns__menu-item">
            <a href="/meet-mozilla/" class="nav-link">{% trans "Meet Mozilla" %}</a>
          </div>

          <div class="primary-nav-ns__menu-item">
            <a href="/what-we-do/" class="nav-link">{% trans "What We Do" %}</a>

            <div class="primary-nav-ns__dropdown">
              <a href="/what-we-do/make/" class="nav-link">{% trans "Make" %}</a>
              <a href="/what-we-do/inspire/" class="nav-link">{% trans "Inspire" %}</a>
              <a href="/what-we-do/mobilize/" class="nav-link">{% trans "Mobilize" %}</a>
            </div>
          </div>

          <div class="primary-nav-ns__menu-item">
            <a href="/join-us/" class="nav-link">{% trans "Join Us" %}</a>
          </div>

          <div class="primary-nav-ns__menu-item">
            <a href="/nothing-personal/" class="nav-link">Nothing Personal</a>
          </div>

        </div>
      </div>

      <!-- Search input -->
      <div class="primary-nav-ns__grid-cell primary-nav-ns__search-icon">
        <a href="#" class="search-toggle" aria-label="{% trans "Toggle search input" %}">
          <div class="search-toggle__inner">
            <img class="search-toggle__open" src="{% static 'foundation_cms/_images/icons/search-black.svg' %}" alt="{% trans "Search" %}" width="24" height="24" />
            <img class="search-toggle__close" src="{% static 'foundation_cms/_images/icons/search-close.svg' %}" alt="{% trans "Close" %}" width="24" height="24" />
          </div>
        </a>
      </div>
        
      <div class="primary-nav-ns__grid-cell primary-nav-ns__donate">
        {% translate "Donate" as localized_donate_label %}
        {% include "patterns/components/button.html" with classnames="with-heart-icon" url="?form=donate-header" label=localized_donate_label button_style="btn-primary" %}
      </div>

    </div>
  </div>
</nav>

<div class="search-input-container">
  <div class="grid-container">
    <div class="grid-x">
      <div class="cell small-12 large-8 large-offset-2 search-input-container__inner">
        <form action="{% url 'search' %}" method="get" class="search-input-container__form" role="search">
          <input type="text" name="query" class="search-input-container__input" placeholder="{% trans "Search" %}" {% if search_query %}value="{{ search_query }}"{% endif %}>
          <button type="submit" class="search-input-container__submit-button btn-primary">
            <span class="btn-primary__roller">
              <span class="btn-primary__rolltext">
                <span class="btn-primary__text">{% trans "Search" %}</span>
                <span class="btn-primary__text btn-primary__text--roll-in">{% trans "Search" %}</span>
              </span>
            </span>
          </button>
        </form>
      </div>
    </div>
  </div>
</div>
