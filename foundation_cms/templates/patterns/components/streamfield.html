{% load wagtailcore_tags %}

{% for streamchild in streamfield %}
  <div class="streamfield-block-wrapper {% if streamchild.value.background_color %} bg-{{ streamchild.value.background_color }}{% endif %}" data-block-type="{{ streamchild.block_type }}">
    {% if not streamchild.block.skip_default_wrapper %}
      <div class="grid-container">
        <div class="grid-x">
          {% if streamchild.block_type == 'custom_media' %}
            <div class="cell medium-7 body-text-large">
              {% include_block streamchild %}
            </div>
          {% else %}
            <div class="cell {% if classnames %} {{ classnames }}{% endif %}">
              {% include_block streamchild %}
            </div>
          {% endif %}
        </div>
      </div>
    {% else %}
      {% include_block streamchild %}
    {% endif %}
  </div>

{% endfor %}
