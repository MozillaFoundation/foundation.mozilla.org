{% load static i18n l10n %}

<div class="newsletter-signup newsletter-unsubscribe__container" data-signup-id="{{ newsletter_unsubscribe.id }}" data-layout="expand_on_focus">

  <div class="newsletter-signup__error-message newsletter-signup__error-message--hidden">
    {% trans "Something went wrong and your unsubscribe wasn't completed. Please try again later." %}
  </div>

  <form class="newsletter-signup__form" novalidate>

    <div class="newsletter-signup__cta-wrapper">
      <p class="newsletter-signup__cta-header">{{ newsletter_unsubscribe.header }}</p>
      {% if newsletter_unsubscribe.description %}
        <p class="newsletter-signup__cta-description">{{ newsletter_unsubscribe.description }}</p>
      {% endif %}
    </div>

    <div class="newsletter-signup__form-grid">
      <div class="newsletter-signup__fieldset">

        <div class="newsletter-signup__field">
          <input
            class="newsletter-signup__input"
            type="email"
            name="email"
            placeholder="Email"
            aria-label="Email"
            required
          >
          <div class="newsletter-signup__field-error newsletter-signup__field-error--hidden email-error-message">
            {% trans "Please enter a valid email address." %}
          </div>
        </div>
      </div>

      <div class="newsletter-signup__button-wrapper">
        <!-- todo: Implement button component with button tag to use in forms -->
        <button type="submit" class="newsletter-signup__button btn-primary">
          <span class="btn-primary__roller">
            <span class="loading-message">
              {% trans "Loading..." %}
            </span>
            <span class="btn-primary__rolltext">
              <span class="btn-primary__text">{{ newsletter_unsubscribe.button_text }}</span>
              <span class="btn-primary__text btn-primary__text--roll-in">{{ newsletter_unsubscribe.button_text }}</span>
            </span>
          </span>
        </button>
      </div>

    </div>

  </form>

</div>
