{% load wagtailimages_tags %}

<div class="hero__wrapper hero__wrapper--{{ page.hero_variant }} hero__wrapper--{{ page.hero_background_color }}">

  {% if page.hero_variant == "side-by-side" %}

    <div class="grid-container">

      <div class="hero">

        <div class="hero__text">
          <h1 class="hero__title">{{ page.hero_title }}</h1>
          {% if page.topics %}
            <div class="hero__topics body-text-small">
              <span class="hero__pill">Some</span>
              <span class="hero__pill">Topics</span>
              <span class="hero__pill">That</span>
              <span class="hero__pill">May</span>
              <span class="hero__pill">Be</span>
              <span class="hero__pill">Hardcoded</span>
            </div>
          {% endif %}
          {% if page.hero_description %}
            <p class="hero__description lede-text">{{ page.hero_description }}</p>
          {% endif %}
        </div>

        {% if page.hero_media_type == "image" and page.hero_image or page.hero_media_type == "video" and page.hero_video %}
          <div class="hero__media">
            {% if page.hero_media_type == "image" %}
              {% image page.hero_image fill-692x692 as img %}
              <img src="{{ img.url }}" alt="{{ page.hero_image_alt_text|default:page.hero_image.title }}" width="{{ img.width }}" height="{{ img.height }}">
            {% elif page.hero_media_type == "video" %}
              <video controls preload="metadata">
                <source src="{{ page.hero_video.url }}">
                <p>Your browser doesn't support video playback. <a href="{{ page.hero_video.url }}">Download the video</a>.</p>
              </video>
            {% endif %}
          </div>
        {% endif %}

      </div>
    </div>

  {% else %}

    <div class="hero">

      <div class="hero__text">
        <div class="grid-container">
          <h1 class="hero__title">{{ page.hero_title }}</h1>
          {% if page.topics %}
            <div class="hero__topics body-text-small">
              <span class="hero__pill">Some</span>
              <span class="hero__pill">Topics</span>
              <span class="hero__pill">That</span>
              <span class="hero__pill">May</span>
              <span class="hero__pill">Be</span>
              <span class="hero__pill">Hardcoded</span>
            </div>
          {% endif %}
          {% if page.hero_description %}
            <p class="hero__description lede-text">{{ page.hero_description }}</p>
          {% endif %}
        </div>
      </div>

      {% if page.hero_media_type == "image" and page.hero_image or page.hero_media_type == "video" and page.hero_video %}
        <div class="grid-container">
          <div class="hero__media">
            {% if page.hero_media_type == "image" %}
              {% image page.hero_image fill-1408x791 as img %}
              <img src="{{ img.url }}" alt="{{ page.hero_image_alt_text|default:page.hero_image.title }}" width="{{ img.width }}" height="{{ img.height }}">
            {% elif page.hero_media_type == "video" %}
              <video controls preload="metadata">
                <source src="{{ page.hero_video.url }}">
                <p>Your browser doesn't support video playback. <a href="{{ page.hero_video.url }}">Download the video</a>.</p>
              </video>
            {% endif %}
          </div>
        </div>
      {% endif %}

    </div>

  {% endif %}

</div>
