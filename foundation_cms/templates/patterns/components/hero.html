{% load wagtailimages_tags responsive_image_tags %}

<div class="hero__wrapper hero__wrapper--{{ page.hero_variant }} hero__wrapper--{{ page.hero_background_color }}">

  {% if page.hero_variant == "side-by-side" %}

    <div class="grid-container">

      <div class="hero">

        <div class="hero__text">
          <h1 class="hero__title">{{ page.hero_title }}</h1>
          {% with topics=page.topics.all %}
            {% if topics %}
              <div class="hero__topics body-text-small">
                {% for topic in topics %}
                  <span class="hero__pill">{{ topic.name }}</span>
                {% endfor %}
              </div>
            {% endif %}
          {% endwith %}

          {% if page.hero_description %}
            <p class="hero__description lede-text">{{ page.hero_description }}</p>
          {% endif %}
        </div>

        {% if page.hero_image %}
          {% if page.hero_image|is_webp %}
            <div class="hero__media">
              <img src="{{ page.hero_image.file.url }}" alt="{{ page.hero_image_alt_text|default:page.hero_image.title }}" width="{{ page.hero_image.width }}" height="{{ page.hero_image.height }}" class="hero__media-image">
            </div>
          {% else %}
            {% image page.hero_image fill-692x692 as img %}
            <div class="hero__media">
              <img src="{{ img.url }}" alt="{{ page.hero_image_alt_text|default:page.hero_image.title }}" width="{{ img.width }}" height="{{ img.height }}" class="hero__media-image">
            </div>
          {% endif %}
        {% endif %}

      </div>
    </div>

  {% else %}

    <div class="hero">

      <div class="hero__text">
        <div class="grid-container">
          <h1 class="hero__title">{{ page.hero_title }}</h1>
          {% with topics=page.topics.all %}
            {% if topics %}
              <div class="hero__topics body-text-small">
                {% for topic in topics %}
                  <span class="hero__pill">{{ topic.name }}</span>
                {% endfor %}
              </div>
            {% endif %}
          {% endwith %}
          {% if page.hero_description %}
            <p class="hero__description lede-text">{{ page.hero_description }}</p>
          {% endif %}
        </div>
      </div>

      {% if page.hero_image %}
        {% if page.hero_image|is_webp %}
          <div class="grid-container">
            <div class="hero__media">
              <img src="{{ page.hero_image.file.url }}" alt="{{ page.hero_image_alt_text|default:page.hero_image.title }}" width="{{ page.hero_image.width }}" height="{{ page.hero_image.height }}" class="hero__media-image">
            </div>
          </div>
        {% else %}
          {% image page.hero_image fill-1408x791 as img %}
          <div class="grid-container">
            <div class="hero__media">
              <img src="{{ img.url }}" alt="{{ page.hero_image_alt_text|default:page.hero_image.title }}" width="{{ img.width }}" height="{{ img.height }}" class="hero__media-image">
            </div>
          </div>
        {% endif %}
      {% endif %}

    </div>

  {% endif %}

</div>
