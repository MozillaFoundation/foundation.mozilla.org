{% load wagtailimages_tags %}

<div class="hero-accordion">
  {% for block in page.hero_accordion %}
    {% if block.block_type == 'video_panel' %}
      <div class="hero-accordion__panel hero-accordion__panel--video {% if forloop.first %}active{% endif %}">
        <div class="hero-accordion__panel--video-video-wrapper">
          <div
            class="hero-accordion__panel--video-video-wrapper-overlay"
            data-video-url="{{ block.value.video_url }}"
          >
          {% image block.value.thumbnail original as img %}
          <img class="hero-accordion__panel--video-video-wrapper-overlay-preview-image" src="{{ img.url }}" width="{{ img.width }}" height="{{ img.height }}" alt="(FIXME:TODO: check with designers how they plan to use the image. This will determine if we need to include alt text.)">
            <button
              class="hero-accordion__panel--video-video-wrapper-overlay-play-button"
              aria-label="Play {{ block.value.label }} video"
            ></button>
          </div>

        </div>
        <div class="hero-accordion__panel--video-text-wrapper">
          <p>[Label] {{ block.value.label }}</p>
          {% if block.value.heading %}
            <p>[Optional Heading] {{ block.value.heading }}</p>
          {% endif %}
        </div>
      </div>
    {% elif block.block_type == 'image_text_panel' %}
      <div class="hero-accordion__panel hero-accordion__panel--image-text {% if forloop.first %}active{% endif %}">
        <p>[Label] {{ block.value.label }}</p>
        <div>
          [Image]
          {% image block.value.image original as img %}
          <img src="{{ img.url }}"  width="{{ img.width }}" height="{{ img.height }}" alt="(FIXME:TODO: check with designers how they plan to use the image. This will determine if we need to include alt text.)">
        </div>
        <p>[Heading] {{ block.value.heading }}</p>
        {% if block.value.description %}
          <p>[Optional Description] {{ block.value.description }}</p>
        {% endif %}
        <a href="{{ block.value.cta_link }}">{{ block.value.cta_text }}</a>
      </div>
    {% endif %}
  {% endfor %}
</div>
