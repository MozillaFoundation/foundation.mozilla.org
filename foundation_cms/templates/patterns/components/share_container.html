{% load static %}
{% load wagtailcore_tags %}

{% with share_url=page.get_full_url|default:page.full_url|default:request.build_absolute_uri share_title=page.title|default:"Article page" %}
<div class="share-container">
  <h3 class="share-title">Share this!</h3>
  <div class="share-buttons">
    <!-- Bluesky -->
    <a href="https://bsky.app/intent/compose?text={{ share_title|urlencode }}&url={{ share_url|urlencode }}" target="_blank" rel="noopener noreferrer" class="share-btn">
      <img src="{% static 'foundation_cms/_images/icons/social-bluesky-black.svg' %}" width="18" height="18" alt="Share on Bluesky">
    </a>

    <!-- Linkedin -->
    <a href="https://www.linkedin.com/sharing/share-offsite/?url={{ share_url|urlencode }}" target="_blank" rel="noopener noreferrer" class="share-btn">
      <img src="{% static 'foundation_cms/_images/icons/social-linkedin-black.svg' %}" width="18" height="18" alt="Share on Linkedin">
    </a>

    <!-- Email -->
    <a href="mailto:?subject={{ share_title|urlencode }}&body={{ share_url|urlencode }}" class="share-btn">
      <img src="{% static 'foundation_cms/_images/icons/social-email-black.svg' %}" width="38" height="38" alt="Share by Email">
    </a>

    <!-- Copy Link -->
    <button class="share-btn copy-link-btn" data-copy-url="{{ share_url }}">
      <img src="{% static 'foundation_cms/_images/icons/social-copy-path-black.svg' %}" width="18" height="18" alt="Copy Link">
    </button>
  </div>

  <div id="toast" class="toast" role="status" aria-live="polite"></div>
</div>
{% endwith %}
