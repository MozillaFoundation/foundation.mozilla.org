{% extends theme_base %}

{% load wagtailimages_tags static %}

{% block extra_css %}
    <link rel="stylesheet" href="{% static 'foundation_cms/_css/pages/nothing_personal/article_page.compiled.css' %}">
{% endblock extra_css %}

{% block content %}
    <main>
        <article>
            <div class="grid-container">
                <div class="grid-x">
                    <header class="cell small-12 medium-9 medium-offset-1 large-8">
                        <h1>If this is a really long title it would wrap like this</h1>
                        <span class="author-wrapper">
                            <span class="author">Author Name</span>
                        </span>
                    </header>
                </div>
                <div class="grid-x">
                    <div class="lead-image-wrapper cell small-12 medium-10 medium-offset-1 large-10">
                        {% comment %} placeholder image. replace with <figure> when we have a CMS field for the image {% endcomment %}
                        <img src="{% static 'foundation_cms/_images/newsletter-signup-success.jpg' %}" width="100%" height="100%" alt="Newsletter signup success image" />
                        {% comment %}
                        <figure>
                            <picture>
                                <source media="..." srcset="...">
                                <img ...>
                            </picture>
                        </figure>
                        {% endcomment %}
                    </div>
                </div>
                <div class="grid-x grid-margin-x">
                    <div class="cell small-12 medium-7 medium-offset-1 large-7 large-offset-0">
                        <div>{{ page.lede_text }}</div>
                    </div>
                    <div class="cell small-12 medium-3 large-offset-2">
                        <div class="article-meta-published">
                            <span class="published-label">PUBLISHED</span>
                            <p class="published-date">{{ page.first_published_at|date:"F j, Y" }}</p>
                        </div>
                        {% include "patterns/components/share_container.html" %}
                    </div>
                </div>
            </div>

            {% if page.body %}
                {% include "patterns/components/streamfield.html" with streamfield=page.body classnames="medium-10 medium-offset-1 large-7 large-offset-0" %}
            {% endif %}

            <div class="grid-container">
                <div class="grid-x">
                    <div class="cell small-12 medium-7 medium-offset-1 large-offset-0">
                        <div>
                            [Tag Section]
                        </div>
                        {% if page.author %}
                            <div class="author-info">
                                <h5 class="author-name">{{ page.author.name }}</h5>
                                {% if page.author.bio %}
                                    <p class="author-bio">{{ page.author.bio }}</p>
                                {% endif %}
                            </div>
                        {% endif %}
                    </div>
                </div>
            </div>
        </article>

        {% if latest_articles|length >= 2 %}
            <div class="grid-container">
                <div class="grid-x">
                    <div class="cell small-12 medium-10 medium-offset-1">
                        {% include "patterns/components/nothing_personal/article_page/more_stories.html" %}
                    </div>
                </div>
            </div>
        {% endif %}
    </main>
{% endblock content %}
