{% extends theme_base %}

{% load static wagtailimages_tags wagtailcore_tags %}

{% block extra_css %}
    <link rel="stylesheet" href="{% static 'foundation_cms/_css/pages/nothing_personal/article_page.compiled.css' %}">
{% endblock extra_css %}

{% block content %}
    <main>
        <article>
            <div class="grid-container">
                <div class="grid-x">
                    <div class="cell small-12 medium-7">
                        {% with topics=page.topics.all %}
                            {% include "patterns/components/topic_pills.html" with topics=page.topics.all style_variation="loose" %}
                        {% endwith %}
                        <h1>{{ page.title }}</h1>
                        <div>{{ page.updated }} | {{ page.reviewed }} | {{ page.research }}</div>
                        <div>{{ page.lede_text }}</div>
                        <div>{{ page.scoring }}</div>
                        <!-- Anchor Navigation -->
                        {% include "patterns/components/nothing_personal/anchor_navigation.html" %}
                    </div>
                    <div class="cell small-12 medium-3">
                        {% if page.hero_image %}
                            {% image page.hero_image fill-692x692 as img %}
                            <div class="hero__media">
                                <img src="{{ img.url }}" alt="{{ page.hero_image_alt_text|default:page.hero_image.title }}" width="{{ img.width }}" height="{{ img.height }}" class="hero__media-image">
                            </div>
                        {% endif %}
                    </div>
                </div>
            </div>

            {% if page.body %}
                {% include "patterns/components/streamfield.html" with streamfield=page.body %}
            {% endif %}

            {% if page.what_you_should_know_section %}
                {% include "patterns/components/streamfield.html" with streamfield=page.what_you_should_know_section %}
            {% endif %}

            {% if page.newsletter_signup_section %}
                {% include "patterns/components/streamfield.html" with streamfield=page.newsletter_signup_section %}
            {% endif %}

            {% if page.good_and_bad_section %}
                {% include "patterns/components/streamfield.html" with streamfield=page.good_and_bad_section %}
            {% endif %}

            {% if page.reduce_your_risks_section %}
                {% include "patterns/components/streamfield.html" with streamfield=page.reduce_your_risks_section %}
            {% endif %}

            {% if page.bottom_line_section and page.products_mentioned.exists %}
                {% include "patterns/components/streamfield.html" with streamfield=page.bottom_line_section %}
            {% endif %}

            {% if latest_product_reviews|length >= 2 %}
                <div class="grid-container">
                    <div class="grid-x">
                        <div class="cell small-12">
                            {% for product_review in latest_product_reviews %}
                                <p>{{ product_review.title }} </p>
                            {% endfor %}
                        </div>
                    </div>
                </div>
            {% endif %}


        </article>
    </main>
{% endblock content %}
