{% load wagtailcore_tags wagtailimages_tags %}
<div class="portrait-card-set grid-container js-portrait-card-carousel">
  {% if self.headline %}
    <div class="grid-x">
      <div class="cell">
        <h2 class="portrait-card-set__headline">{{ self.headline }}</h2>
      </div>
    </div>
  {% endif %}

  <div class="portrait-card-carousel">
    <div class="carousel-track js-carousel-track">
      {% for card in self.cards %}
        <div class="carousel-card" tabindex="0">
          {% include "patterns/components/portrait_card.html" %}
        </div>
      {% endfor %}
    </div>
    {% include "patterns/components/carousel_controls.html" %}
  </div>

  {% with link=self.cta_link.0 %}
    {% if link and link.link_to %}
      <div class="grid-x">
        <div class="cell">
          <div class="portrait-card-set__cta">
            {% include "./link_button_block.html" with value=link only %}
          </div>
        </div>
      </div>
    {% endif %}
  {% endwith %}
</div>
