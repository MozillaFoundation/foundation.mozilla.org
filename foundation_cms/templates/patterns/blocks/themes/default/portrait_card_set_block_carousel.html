{% load wagtailcore_tags wagtailimages_tags %}
<div class="portrait-card-set grid-container js-portrait-card-carousel">
  {% if self.headline %}
    <div class="grid-x">
      <div class="cell">
        <h2 class="portrait-card-set__headline">{{ self.headline }}</h2>
      </div>
    </div>
  {% endif %}

  <div class="portrait-card-carousel">
    <div class="carousel-track js-carousel-track">
      {% for card in self.cards %}
        <div class="carousel-card" tabindex="0">
          <div class="portrait-card">
            <div class="portrait-card__text">
              <p class="portrait-card__label">{{ card.label }}</p>
              <h3 class="portrait-card__headline">{{ card.headline }}</h3>
            </div>
            {% if card.image %}
              <div class="portrait-card__image">
                {% image card.image fill-400x600 %}
              </div>
            {% endif %}
          </div>
        </div>
      {% endfor %}
    </div>
    <div class="carousel-controls">
      <button aria-label="Previous" class="carousel-arrow left js-carousel-prev">
        <svg aria-hidden="true" viewBox="0 0 24 24" width="40" height="40" fill="currentColor">
          <path d="M15.41 16.59L10.83 12l4.58-4.59L14 6l-6 6 6 6z"/>
        </svg>
      </button>
      <button aria-label="Next" class="carousel-arrow right js-carousel-next">
        <svg aria-hidden="true" viewBox="0 0 24 24" width="40" height="40" fill="currentColor">
          <path d="M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6z"/>
        </svg>
      </button>
    </div>
  </div>

  {% with link=self.cta_link.0 %}
    {% if link and link.link_to %}
      <div class="grid-x">
        <div class="cell">
          <div class="portrait-card-set__cta">
            {% include "./link_button_block.html" with value=link only %}
          </div>
        </div>
      </div>
    {% endif %}
  {% endwith %}
</div>
