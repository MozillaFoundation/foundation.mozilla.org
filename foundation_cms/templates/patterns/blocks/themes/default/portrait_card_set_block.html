{% load wagtailcore_tags wagtailimages_tags %}

<div class="portrait-card-set {% if self.cards|length > 3 %}is-carousel{% endif %}">
  <div class="grid-container">
    <div class="grid-x">
      <div class="cell">
        {% if self.headline %}
          <div class="portrait-card-set__headline-wrapper">
            <h2 class="portrait-card-set__headline">{{ self.headline }}</h2>
          </div>
        {% endif %}

        <div class="portrait-card-set__card-container">
          <div class="carousel-track">
            {% for card in self.cards %}
              {% include "./portrait_card.html" %}
            {% endfor %}
          </div>
        </div>

        <div class="portrait-card-set__controls">
          {% include "./fragments/pagination_controls.html" with total=self.cards|length %}
        </div>
      </div>
    </div>
  </div>
</div>
