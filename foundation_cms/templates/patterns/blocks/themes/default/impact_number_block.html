{% load wagtailcore_tags impact_numbers_tags %}

<div class="impact-number-block wireframe-box  grid-container">
    <div class="grid-x grid-padding-x">
        {% with stat_count=self.stats|length %}
            {% for stat in self.stats %}
                {% if stat_count == 3 %}
                    <div class="impact-stat cell small-12 large-4">
                {% else %}
                    <div class="impact-stat cell small-12 medium-6">
                {% endif %}
                <div class="impact-stat__content grid-x align-middle">
                    <!-- Number -->
                    <div
                        class="impact-stat__number cell shrink"
                        aria-label="{{ stat.stat_number }}"
                    >
                        <!-- HTML generated through impact_number_tags -->
                        {{ stat.stat_number|render_animated_number }}
                    </div>

                    <!-- Description -->
                    <div class="impact-stat__description cell auto">
                        <p>
                            {{ stat.stat_description }}
                        </p>
                    </div>
                </div>
                </div>

            {% endfor %}
        {% endwith %}
    </div>
</div>
