{% load wagtailcore_tags impact_numbers_tags %}

<div class="wireframe-box impact-number-block grid-container">
  <div class="grid-x grid-padding-x">
    {% with stat_count=self.stats|length %}
      {% for stat in self.stats %}
        {% if stat_count == 3 %}
          <div class="impact-stat cell small-12 large-4">
        {% else %}
          <div class="impact-stat cell small-12 medium-6">
        {% endif %}
        <div class="impact-stat__item grid-x align-middle">
          <!-- Number -->
          <div
            class="impact-stat__number cell shrink"
            data-number="{{ stat.stat_number }}"
            aria-label="{{ stat.stat_prefix }}{{ stat.stat_number }}{{ stat.stat_suffix }}"
          >
            <div class="numbers__window">
              <div class="numbers__window__digit">{{stat.stat_prefix}}</div>
            </div>
            {{ stat.stat_number|render_animated_number }}
            <div class="numbers__window">
              <div class="numbers__window__digit">{{stat.stat_suffix}}</div>
            </div>

          </div>

          <!-- Description -->
          <div class="impact-stat__description cell auto">
            <p>
              {{ stat.stat_description }}
            </p>
          </div>
        </div>
        </div>

      {% endfor %}
    {% endwith %}
  </div>
</div>
