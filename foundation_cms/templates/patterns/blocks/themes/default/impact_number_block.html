{% load wagtailcore_tags impact_numbers_tags %}

<div class="impact-number-block">
    {% with stat_count=self.stats|length %}
        {% for stat in self.stats %}
            <div class="impact-stat">
                <div class="impact-stat__content">
                    <!-- Number -->
                    <div
                        class="impact-stat__number"
                        aria-label="{{ stat.stat_number }}"
                    >
                    <!-- HTML generated through impact_number_tags -->
                        {{ stat.stat_number|render_animated_number }}
                    </div>

                    <!-- Details -->
                    <div class="impact-stat__details">
                        <h3 class="impact-stat__heading">{{ stat.stat_heading }}</h3>
                        {% if stat.stat_description %}
                            <p class="impact-stat__description">
                                {{ stat.stat_description }}
                            </p>
                        {% endif %}
                    </div>
                </div>
            </div>
        {% endfor %}
    {% endwith %}
</div>
