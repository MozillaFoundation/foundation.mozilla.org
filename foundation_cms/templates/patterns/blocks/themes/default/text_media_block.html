{% load wagtailimages_tags wagtailcore_tags %}

<div class="text-media-block {% block variant_class %}{% endblock variant_class %}">

  {# Left: Subtitle, Title, Text, and Link #}
  <div class="text-media-block__text">
    {% if value.subtitle %}
      <div class="text-media-block__subtitle">{{ value.subtitle }}</div>
    {% endif %}
    {% if value.title %}
      <div class="text-media-block__title">{{ value.title }}</div>
    {% endif %}
    {% if value.text %}
      <div class="text-media-block__body">
        {{ value.text|richtext }}
      </div>
    {% endif %}

    {% if value.link %}
      <div class="text-media-block__link">
        {% include "patterns/blocks/themes/default/cta_link_block.html" with link=value.link.0 %}
      </div>
    {% endif %}
  </div>

  {# Right: Media #}
  <div class="text-media-block__media">
    {% if value.media %}
      {% include "patterns/blocks/themes/default/media_block.html" with value=value.media %}
    {% endif %}
  </div>

</div>