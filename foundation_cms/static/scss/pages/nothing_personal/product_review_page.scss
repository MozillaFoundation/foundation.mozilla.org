@use "sass:map";
@use "sass:math";

@import "../../nothing_personal_base";

body.nothing-personal.nothing-personal-product-review-page {
  main {
    h2 {
      @include mofo-text-style($header-styles, "h3", $header-font-family);
    }
  }

  .intro-section {
    $intro-subsection-margin-y: (
      small: rem-calc(16),
      large: rem-calc(24),
    );

    margin-top: 4rem;
    margin-bottom: rem-calc(80);

    @mixin responsive-spacing-y($margin-map) {
      margin-top: map.get($margin-map, small);
      margin-bottom: map.get($margin-map, small);

      @include breakpoint(large up) {
        margin-top: map.get($margin-map, large);
        margin-bottom: map.get($margin-map, large);
      }
    }

    h1 {
      @include responsive-spacing-y($intro-subsection-margin-y);
    }

    > .grid-x {
      flex-direction: column-reverse;

      @include breakpoint(large up) {
        flex-direction: row;
      }
    }

    &__product-img {
      picture {
        img {
          width: 100%;
          height: auto;
          margin-bottom: 4rem;

          @include breakpoint(large up) {
            margin-bottom: 0;
          }
        }
      }
    }

    &__meta {
      $gap: 1rem;

      @include mofo-text-style($body-text-styles, "small");
      @include responsive-spacing-y($intro-subsection-margin-y);

      display: flex;
      flex-wrap: wrap;

      &-item {
        display: flex;
        align-items: baseline;

        &:not(:last-child) {
          &::after {
            content: "|";
            display: inline-block;
            margin-left: $gap;
            margin-right: $gap;
          }
        }

        dt {
          display: inline-block;

          &::after {
            content: ":\00a0";
          }
        }

        dd {
          display: inline-block;
          margin: 0;
        }

        &--primary {
          dt,
          dd {
            font-weight: bolder;
          }
        }
      }
    }

    &__lede-text {
      @include mofo-text-style($body-text-styles, "xlarge");
      @include responsive-spacing-y($intro-subsection-margin-y);
    }

    &__privacy-score {
      @include responsive-spacing-y($intro-subsection-margin-y);
    }

    &__toc-nav {
      &-heading {
        @include mofo-text-style($label-text-styles, "regular");
        @include responsive-spacing-y($intro-subsection-margin-y);

        text-transform: uppercase;
      }

      &-list {
        display: grid;
        grid-template-columns: 1fr;
        row-gap: map.get($intro-subsection-margin-y, small);
        list-style: none;
        padding: 0;
        margin: 0;

        @include breakpoint(large up) {
          row-gap: map.get($intro-subsection-margin-y, large);
          grid-template-columns: 1fr 1fr;
        }
      }

      &-item {
        a {
          @include mofo-text-style(
            $link-text-styles,
            "regular",
            $header-font-family
          );

          color: map.get($mofo-colors, black);

          &:hover {
            color: color(orange, "300");
          }
        }
      }
    }
  }

  .newsletter-section,
  .review-section__inner-wrapper {
    margin-bottom:rem-calc(56);

    @include breakpoint(large up) {
      margin-bottom:rem-calc(68);
    }
  }

  .review-section {
    &__heading {
      margin-top: 0;
      margin-bottom: rem-calc(24);

      @include breakpoint(large up) {
        margin-bottom: 0;
      }
    }

    &__subheading {
      @include mofo-text-style($header-styles, "h6", $header-font-family);
      margin-top: 0;
      margin-bottom: 0.5rem;

      @include breakpoint(large up) {
        margin-bottom: 1rem;
      }
    }

    &__qa-list {
      margin: 0;
    }

    &__qa-item {
      $padding-y: (
        small: 1rem,
        large: 2rem,
      );

      &:not(:last-child) {
        padding-bottom: map.get($padding-y, small);
        border-bottom: 1px solid color(neutral, "300");

        @include breakpoint(large up) {
          padding-bottom: map.get($padding-y, large);
        }
      }

      &:not(:first-child) {
        padding-top: map.get($padding-y, small);

        @include breakpoint(large up) {
          padding-top: map.get($padding-y, large);
        }
      }

      dd {
        @include mofo-text-style($body-text-styles, "large");

        margin: 0;
      }
    }
  }

  .products-mentioned {
    margin-top: 4rem;

    ul {
      display: grid;
      grid-template-columns: 1fr 1fr;
      column-gap: 1rem;
      row-gap: 0.5rem;
      list-style: none;
      padding: 0;
      margin: 0;

      @include breakpoint(large up) {
        grid-template-columns: 1fr 1fr 1fr 1fr;
        row-gap: 0;
      }

      a {
        text-decoration: none;
      }
    }

    &__product-title {
      @include mofo-text-style($body-text-styles, "xlarge");

      display: block;
      margin-top: 0.5rem;

      @include breakpoint(large up) {
        margin-top: 1rem;
      }
    }
  }

  .more-stories-section {
    h2 {
      margin-bottom: 2rem;
    }
  }
}
