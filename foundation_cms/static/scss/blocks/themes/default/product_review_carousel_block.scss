@use "sass:list";
@use "sass:map";

.product-review-carousel {
  $card-vertical-offsets: (
    0: rem-calc(76),
    1: 0,
    2: rem-calc(56),
  );
  $carousel-top-margin: (
    small: rem-calc(42),
    large: rem-calc(83),
  );
  $carousel-card-horizontal-gap: 3rem;

  // Uniform headline gap for second row cells in the grid
  @mixin product-review-carousel-headline-gap() {
    @include breakpoint(large up) {
      margin-top: rem-calc(27);
    }
  }

  margin: 0 0 2rem;
  min-height: 100vh;
  padding-top: 5rem;
  display: flex;
  flex-direction: column;
  justify-content: center;

  &__subtitle {
    @include mofo-text-style($label-text-styles, "regular");

    text-transform: uppercase;
    margin: 0;
  }

  &__title {
    @include mofo-text-style($header-styles, "h2", $header-font-family);
    @include product-review-carousel-headline-gap;

    margin: 1rem 0;
  }

  &__text {
    @include mofo-text-style($body-text-styles, "regular");
    @include product-review-carousel-headline-gap;

    p {
      margin: 0;
    }
  }

  &__cards-container {
    display: flex;
    flex-direction: row;
    gap: 0 $carousel-card-horizontal-gap;
    margin: map.get($map: $carousel-top-margin, $key: small) 0 0;
    padding: 0 1rem 1.5rem;
    overflow-x: auto;
    scrollbar-width: none;

    @include breakpoint(large up) {
      justify-content: center;
      padding: 0 0 1.5rem;
      margin-top: map.get($carousel-top-margin, large);
    }

    .product-review-carousel__card-wrapper {
      $cycle: list.length(map.keys($card-vertical-offsets));
      @for $i from 0 to $cycle {
        $b: $i + 1;
        &:nth-child(#{$cycle}n + #{$b}) {
          margin-top: map.get($card-vertical-offsets, $i);
        }
      }
    }
  }

  &__footer {
    width: 100%;
  }

  &__pause-button {
    $pause-button-size: rem-calc(48);

    width: $pause-button-size;
    height: $pause-button-size;
    border-radius: 50%;
    cursor: pointer;
    background: color(neutral, "200")
      url("/static/foundation_cms/_images/icons/pause-black.svg") no-repeat
      center;

    &.is-paused {
      background-image: url("/static/foundation_cms/_images/icons/play-black.svg");

      // offset center by 1 rem to the right to visually center the triangle
      background-position: calc(50% + 0.2rem) center;
    }
  }
}
