@import "../colors";
@import "../type";

body.redesign {
  .timely-activations {
    width: 100%;
    margin: 1rem 0;

    &__title {
      @include mofo-text-style(
        $display-text-styles,
        "2",
        $display-text-font-family
      );

      margin-bottom: 0.5rem;
      color: #333;
      background-color: color(yellow, "200");
      padding: 1rem 2rem 1rem 0.5rem;
      position: relative;

      @include breakpoint(large up) {
        font-size: get-text-property(
          $display-text-styles,
          "2",
          "font-size",
          "large"
        );
        padding: 2rem;
        margin-bottom: 1rem;
      }

      &::before {
        content: "";
        position: absolute;
        left: 1rem;
        top: calc(-2rem - 1px);
        width: rem-calc(80);
        height: rem-calc(45);
        background-image: url("../_images/handdrawn/title-rays.svg");
        background-position: center top;
        background-repeat: no-repeat;
        background-size: contain;

        @include breakpoint(large up) {
          width: rem-calc(138);
          height: rem-calc(77);
          left: 2rem;
          top: auto;
          bottom: calc(100% - 1rem);
        }
      }

      &::after {
        content: "";
        position: absolute;
        right: 0;
        top: 0;
        background-color: $white;
        width: 1.5rem;
        height: 50%;

        @include breakpoint(large up) {
          width: 3rem;
        }
      }
    }

    &__cards-container {
      width: 100%;
      display: flex;
      flex-direction: column;

      @include breakpoint(medium up) {
        gap: 1rem;
      }
    }

    .activation-card {
      display: flex;
      flex-direction: column;
      height: rem-calc(560);
      position: relative;

      @include breakpoint(medium up) {
        flex-direction: row;
        height: rem-calc(290);
      }

      @include breakpoint(large up) {
        height: rem-calc(451);
      }

      &__image-container {
        width: 100%;
        aspect-ratio: 1 / 1;
        position: relative;
        overflow: hidden;
        flex-shrink: 0;

        @include breakpoint(medium up) {
          width: auto;
        }
      }

      &__image {
        position: absolute;
        width: 100%;
        height: 100%;
        object-fit: cover;
        transition: transform 0.3s ease-out;
      }

      &__topic {
        position: absolute;
        top: 10px;
        left: 10px;
        color: $white;
      }

      &__content {
        flex: 1;
        padding: 2rem 1rem;
        display: flex;
        flex-direction: column;

        @include breakpoint(medium up) {
          padding: 2rem;
          justify-content: center;
        }

        @include breakpoint(large up) {
          padding: 2rem 3rem;
        }
      }

      &__category {
        text-transform: uppercase;
        font-weight: 300;
        line-height: 120%;
        font-size: get-text-property(
          $body-text-styles,
          "small",
          "font-size",
          "small"
        );
      }

      &__cta {
        font-family: $header-font-family;
        line-height: 120%;
        font-weight: 400;
        color: $black;
        display: flex;
        align-items: center;
        gap: rem-calc(12);
        text-wrap: nowrap;
        width: fit-content;

        &::after {
          background-image: url("../_images/icons/button-arrow-right-black.svg");
          background-size: contain;
          content: "";
          width: rem-calc(12);
          height: rem-calc(12);
          display: inline-block;
          flex-shrink: 0;
          transition: transform 0.3s ease-out;
        }

        &:focus-visible {
          outline: 1px solid $black;
          outline-offset: 2px;
        }
      }

      &:hover {
        .activation-card__image {
          transform: scale(1.2);
        }

        .activation-card__cta::after {
          transform: translateX(0.5rem);
        }
      }
    }

    &__card-wrapper {
      position: relative;

      &:nth-child(1) {
        margin-bottom: 3rem;

        @include breakpoint(medium up) {
          margin-bottom: 0;
          margin-right: 3rem;
        }

        @include breakpoint(large up) {
          margin-right: calc(rem-calc(268) + 2.5rem);
        }

        &::after {
          content: "";
          position: absolute;
          left: 0;
          top: 100%;
          width: 100%;
          height: 3rem;
          background-image: url("../_images/timely-activations/separator-blue-300.svg");
          background-size: 100% calc(100% - 0.5rem);
          background-position: center;
          background-repeat: no-repeat;

          @include breakpoint(medium up) {
            width: rem-calc(290);
            height: 2.75rem;
            background-position: top;
            transform-origin: 100% 100%;
            transform: rotate(90deg) scaleX(-1);
            top: auto;
            left: calc(100% - rem-calc(290));
            bottom: 100%;
          }

          @include breakpoint(large up) {
            transform: none;
            width: rem-calc(268);
            height: 100%;
            top: 0;
            bottom: auto;
            left: calc(100% + 2.5rem);
            background-image: url("../_images/timely-activations/separator-blue-300-large.svg");
            background-size: 100% 100%;
            background-position: right;
          }
        }

        .activation-card {
          background-color: color(orange, "200");

          &__image-container {
            position: relative;

            &::after {
              content: "";
              position: absolute;
              right: 0;
              bottom: 0;
              width: 100%;
              height: rem-calc(40);
              background-image: url("../_images/timely-activations/mask-orange-200.svg");
              background-size: 100% 100%;

              @include breakpoint(medium up) {
                transform-origin: 100% 100%;
                transform: rotate(90deg) scaleY(-1);
              }

              @include breakpoint(large up) {
                height: rem-calc(64);
                width: calc(100% + 1px);
              }
            }
          }
        }
      }

      &:nth-child(2) {
        margin-bottom: 4rem;

        @include breakpoint(medium up) {
          margin-bottom: 0;
          margin-left: 4.25rem;
        }

        @include breakpoint(large up) {
          margin-left: calc(rem-calc(264) + 2.25rem);
        }

        &::after {
          content: "";
          position: absolute;
          left: 0;
          top: 100%;
          width: 100%;
          height: 4rem;
          background-image: url("../_images/timely-activations/separator-blue-600.svg");
          background-size: 100% calc(100% - 0.5rem);
          background-position: center;
          background-repeat: no-repeat;

          @include breakpoint(medium up) {
            width: rem-calc(290);
            height: 4rem;
            background-position: bottom;
            transform-origin: 0% 100%;
            transform: rotate(90deg);
            bottom: 100%;
            top: auto;
            left: -4.25rem;
          }

          @include breakpoint(large up) {
            background-image: url("../_images/timely-activations/separator-blue-600-large.svg");
            background-size: 100% 100%;
            width: rem-calc(264);
            height: 100%;
            transform: none;
            left: calc(0rem - rem-calc(264) - 2.25rem);
            bottom: 0;
          }
        }

        .activation-card {
          border-top-right-radius: 2rem;
          background-color: color(green, "200");
          overflow: hidden;

          @include breakpoint(medium up) {
            border-top-right-radius: 3rem;
            flex-direction: row-reverse;
          }

          @include breakpoint(large up) {
            border-top-right-radius: 5rem;
          }
        }
      }

      &:nth-child(3) {
        margin-bottom: 3rem;

        @include breakpoint(medium up) {
          margin-bottom: 0;
          margin-right: 3rem;
        }

        @include breakpoint(large up) {
          margin-right: calc(rem-calc(276) + 2.5rem);
        }

        &::after {
          content: "";
          position: absolute;
          left: 0;
          top: 100%;
          width: 100%;
          height: 3rem;
          background-image: url("../_images/timely-activations/separator-orange-200.svg");
          background-size: 100% calc(100% - 0.5rem);
          background-position: center;
          background-repeat: no-repeat;

          @include breakpoint(medium up) {
            width: rem-calc(290);
            height: 2.5rem;
            transform-origin: 0% 100%;
            transform: rotate(270deg);
            top: auto;
            left: calc(100% + 3rem);
            bottom: 0;
            background-position: bottom;
          }

          @include breakpoint(large up) {
            background-image: url("../_images/timely-activations/separator-orange-200-large.svg");
            transform: none;
            width: rem-calc(276);
            height: 100%;
            top: 0;
            bottom: auto;
            left: calc(100% + 2.5rem);
            background-size: 100% 100%;
            background-position: right;
          }
        }

        .activation-card {
          background-color: color(blue, "200");

          &__image-container {
            &::after {
              content: "";
              position: absolute;
              left: 0;
              bottom: 0;
              width: 3rem;
              height: rem-calc(54);
              background-color: color(blue, "200");

              @include breakpoint(medium up) {
                right: 0;
                left: auto;
              }

              @include breakpoint(large up) {
                width: 4rem;
                height: rem-calc(75);
              }
            }
          }
        }
      }
    }
  }
}
