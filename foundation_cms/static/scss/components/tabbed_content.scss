@use "sass:math";

// Tabbed content - simplified

$tab-colors: (
  0: color(blue, "300"),
  1: color(blue, "200"),
  2: color(blue, "100"),
  3: color(orange, "300"),
  4: color(orange, "200"),
  5: color(orange, "100"),
);

.tabbed-content {
  width: 100%;

  // Tab navigation
  &__tab-row {
    display: flex;
    list-style: none;
    padding: 0;
    margin: 0;
    overflow-x: auto;
  }

  &__tab-button {
    min-width: rem-calc(235);
    cursor: pointer;
    padding: 1.5rem 1rem;
    flex: 1;
    flex-shrink: 0;
    border-top-right-radius: rem-calc(18);

    @include breakpoint(large up) {
      padding: 1.5rem;
      border-top-right-radius: 2rem;
    }

    @for $i from 0 through length($tab-colors) - 1 {
      &:nth-child(#{$i + 1}) {
        background-color: map-get($tab-colors, $i);
      }
    }
  }

  &__tab-button-title {
    @include mofo-text-style($header-styles, "h6", $header-font-family);

    margin-bottom: 0.5rem;
  }

  &__tab-button-subtitle {
    @include mofo-text-style($label-text-styles, "regular");

    text-transform: uppercase;
  }

  // Tab panels
  &__tab-panel {
    display: none;
    width: 100%;
    padding: 1rem 1rem 2rem;

    @include breakpoint(large up) {
      padding: 4rem;
    }

    &.is-active {
      display: block;
    }

    @for $i from 0 through length($tab-colors) - 1 {
      &:nth-child(#{$i + 1}) {
        background-color: map-get($tab-colors, $i);
      }
    }

    &.is-active:has(> .tab-card-set) {
      display: flex;
      flex-direction: row;
      flex-wrap: wrap;
    }
  }
}

.text-image-block {
  display: flex;
  flex-direction: column;
  gap: 1.5rem;

  @include breakpoint(large up) {
    flex-direction: row;
    align-items: center;
    gap: 4rem;
  }

  &__text {
    order: 2;

    @include breakpoint(large up) {
      order: 1;
      max-width: 50%;
    }
  }

  &__subtitle {
    @include mofo-text-style($body-text-styles, "small");

    display: inline-block;
    border: 1px solid $black;
    padding: 0.25rem 0.5rem;
    border-radius: 9999px;
    margin: 0 0 1rem;

    @include breakpoint(large up) {
      margin-bottom: 1.5rem;
    }
  }

  &__title {
    @include mofo-text-style($header-styles, "h4", $header-font-family);
  }

  &__link {
    @include breakpoint(large up) {
      margin-top: 1.5rem;
    }
  }

  &__image {
    order: 1;

    @include breakpoint(large up) {
      order: 2;
      flex-basis: 1;
      min-width: 50%;
    }

    // Using default image block but overriding aspect ratios
    .image-block {
      margin: 0;

      &__image {
        border-bottom-left-radius: rem-calc(28);
        border-top-right-radius: rem-calc(28);
      }

      &--landscape {
        .image-block__image {
          aspect-ratio: math.div(3, 2);
        }
      }

      &--portrait {
        .image-block__image {
          aspect-ratio: math.div(2, 3);
        }
      }
    }
  }
}

.tab-card-set {
  display: flex;
  flex-direction: column;

  &__image {
  }

  &__title {
  }

  &__subtitle {
  }
}
