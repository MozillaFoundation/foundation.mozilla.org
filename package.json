{
  "repository": "https://github.com/mozilla/foundation.mozilla.org",
  "issues": "https://github.com/mozilla/foundation.mozilla.org/issues",
  "description": "Mozilla Foundation site",
  "engines": {
    "node": ">=14.4.0"
  },
  "scripts": {
    "build:common": "shx rm -rf network-api/networkapi/frontend && shx mkdir -p network-api/networkapi/frontend/_js && run-p build:images build:sass && npm run build:contribute",
    "build:contribute": "shx cp contribute.json network-api/networkapi/frontend/",
    "build:dev": "run-s build:common build:js:dev",
    "build:images": "shx rm -rf network-api/networkapi/frontend/_images && shx cp -r source/images network-api/networkapi/frontend/_images",
    "build:js-uncompressed": "npm run build:js:dev",
    "build:js": "webpack --mode=production",
    "build:js:dev": "webpack --mode=development",
    "build:sass": "shx mkdir -p network-api/networkapi/frontend/_css && sass source/sass/main.scss network-api/networkapi/frontend/_css/main.compiled.css && sass source/sass/buyers-guide/bg-main.scss network-api/networkapi/frontend/_css/buyers-guide.compiled.css && npm run optimize:css",
    "build": "run-s build:common build:js",
    "build-uncompressed": "run-s build:common build:js-uncompressed",
    "cypress": "run-p --race cypress:docker cypress:test",
    "cypress:a11y": "run-p --race cypress:docker cypress:test:a11y",
    "cypress:ci": "run-p --race server cypress:test",
    "cypress:docker": "docker-compose up",
    "cypress:install": "npm install --no-save cypress@5.6.0 @percy/cypress@v2.3.3 cypress-axe@0.12.0 @testing-library/cypress@7.0.3",
    "cypress:clean": "shx rm -rf ./cypress/screenshots",
    "cypress:test": "npm run cypress:clean && wait-on http://localhost:8000/cms && cypress run --spec ./cypress/integration/endpoint-tests.js",
    "cypress:test:a11y": "npm run cypress:clean && wait-on tcp:8000 && cypress run --spec ./cypress/integration/a11y-tests.js",
    "cypress:test:manual": "cypress open",
    "fix": "run-s fix:*",
    "fix:js": "npm run test:eslint:js -- --fix",
    "fix:scss": "npm run test:scss -- --fix",
    "heroku-postbuild": "npm run build",
    "optimize:css": "postcss network-api/networkapi/frontend/_css/*.css --dir network-api/networkapi/frontend/_css",
    "optimize:svg": "svgo --multipass --folder ./source/images/ --recursive",
    "optimize:jpg": "find source/images -type f -name '*.jpg' -print0 | xargs -0 -n 1 -P 6 -I '{}' guetzli --quality 93 '{}' '{}'",
    "optimize:png": "find source/images -type f -name '*.png' -print0 | xargs -0 -n 1 -P 6 optipng",
    "optimize": "run-p optimize:**",
    "percy": "percy exec -t 800 -- npm run cypress:ci",
    "precommit": "prettier  \"source/js/**/*.js\" \"source/js/**/*.jsx\" webpack.config.js --write",
    "prestatus": "echo test",
    "server": "python network-api/manage.py runserver 0.0.0.0:8000",
    "start": "docker-compose up",
    "test:procfile": "node test/test-procfile.js",
    "test:eslint:js:pre": "prettier \"cypress/integration/*.js\" \"source/js/**/*.js\" \"source/js/**/*.jsx\" \"network-api/networkapi/wagtailcustomization/**/*.js\" webpack.config.js --write",
    "test:eslint:js": "eslint --config ./.eslintrc.json \"cypress/integration/*.js\" \"source/js/**/*.js\" \"source/js/**/*.jsx\" \"network-api/networkapi/wagtailcustomization/**/*.js\" webpack.config.js",
    "test:eslint:a11y:pre": "prettier \"source/js/**/*.jsx\" --write",
    "test:eslint:a11y": "eslint --config ./.eslintrc.a11y.json \"source/js/**/*.jsx\"",
    "test:scss:pre": "prettier \"source/sass/**/*.scss\" \"source/js/**/*.scss\" \"network-api/networkapi/{,!(frontend)/**/}*.css\" --write",
    "test:scss": "stylelint \"source/sass/**/*.scss\" \"source/js/**/*.scss\" --syntax scss",
    "test:scss:styleguide:color": "stylelint \"source/sass/**/*.scss\" \"source/js/**/*.scss\" \"!source/sass/**/_colors.scss\" --syntax scss --config .stylelintrc-colors.js",
    "test:css": "stylelint \"network-api/networkapi/{,!(frontend)/**/}*.css\" --syntax scss",
    "test": "run-s test:** build",
    "watch": "npm run build:dev && run-p watch:**",
    "watch:images": "chokidar \"source/images/**/*\" -c \"npm run build:images\"",
    "watch:js": "chokidar \"source/js/**/*.js\" \"source/js/**/*.jsx\" -c \"npm run build:js-uncompressed\"",
    "watch:sass": "chokidar \"source/**/*.scss\" -c \"npm run build:sass\""
  },
  "browserslist": [
    "> 1%",
    "last 2 versions"
  ],
  "author": "Mozilla",
  "license": "MPL-2.0",
  "dependencies": {
    "@babel/core": "^7.12.10",
    "@babel/preset-env": "^7.12.11",
    "@babel/preset-react": "^7.12.10",
    "@sentry/browser": "^6.0.3",
    "autoprefixer": "^10.2.3",
    "axe-core": "^4.1.1",
    "babel-core": "^6.26.3",
    "babel-loader": "^8.2.2",
    "bootstrap": "^4.6.0",
    "classnames": "2.2.6",
    "cssnano": "^4.1.10",
    "event-stream": "3.3.4",
    "js-cookie": "2.2.1",
    "moment": "^2.29.1",
    "npm-run-all": "^4.1.3",
    "postcss": "^8.2.4",
    "postcss-cli": "^8.3.1",
    "prop-types": "^15.7.2",
    "react": "^17.0.1",
    "react-axe": "^3.5.4",
    "react-dom": "^17.0.1",
    "react-ga": "3.3.0",
    "sass": "^1.32.5",
    "shx": "^0.3.3",
    "uuid": "^8.3.2",
    "webpack": "^5.19.0",
    "webpack-cli": "^4.4.0",
    "whatwg-fetch": "^3.5.0"
  },
  "devDependencies": {
    "browserslist": "^4.16.1",
    "chokidar-cli": "^2.1.0",
    "dotenv": "^8.2.0",
    "eslint": "^7.19.0",
    "eslint-config-prettier": "^7.2.0",
    "eslint-plugin-jsx-a11y": "^6.4.1",
    "eslint-plugin-prettier": "^3.3.1",
    "eslint-plugin-react": "^7.22.0",
    "optipng-bin": "^7.0.0",
    "prettier": "^2.2.1",
    "stylelint": "^13.9.0",
    "stylelint-config-standard": "^20.0.0",
    "stylelint-prettier": "^1.1.2",
    "svgo": "^1.3.2",
    "wait-on": "^5.2.1"
  }
}
