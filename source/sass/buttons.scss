// TODO: override Bootstrap's "@mixin button-outline-variant" so we can reduce our overrides for buttons
button,
.btn {
  font-family: "Nunito Sans";
  font-weight: $btn-font-weight;

  @include scaleText(18px, 22px);

  &:hover {
    cursor: pointer;
  }
}

.btn-pop {
  $default: (
    "color": $black,
    "background-color": transparent,
    "border-color": $black
  );

  $default-hover: $default;

  $dark-theme-default: (
    "color": $white,
    "background-color": transparent,
    "border-color": $white
  );

  $dark-theme-hover: $dark-theme-default;

  @include button-basic-style(
    $default,
    $default-hover,
    $dark-theme-default,
    $dark-theme-hover
  );

  $offset: 4px;

  box-shadow: $offset $offset $black;
  border-width: 2px;
  border-style: solid;
  position: relative;
  top: -$offset / 2;
  transition: all 0.08s ease;

  @include hover-focus-active {
    transform: translate($offset, $offset);
    box-shadow: none;
  }

  @at-root .dark-theme & {
    box-shadow: $offset $offset $white;

    @include hover-focus-active {
      transform: translate($offset, $offset);
      box-shadow: none;
    }
  }
}

.btn-primary {
  border: none;

  $default: (
    "color": $white,
    "background-color": $blue,
    "border-color": none
  );

  $default-hover: (
    "color": $white,
    "background-color": $dark-blue,
    "border-color": none
  );

  $dark-theme-default: (
    "color": $white,
    "background-color": $blue,
    "border-color": none
  );

  $dark-theme-hover: (
    "color": $black,
    "background-color": $light-blue,
    "border-color": none
  );

  @include button-basic-style(
    $default,
    $default-hover,
    $dark-theme-default,
    $dark-theme-hover
  );
}

.btn-secondary {
  border-width: 2px;
  border-style: solid;

  $default: (
    "color": $black,
    "background-color": transparent,
    "border-color": $black
  );

  $default-hover: (
    "color": $white,
    "background-color": $black,
    "border-color": $black
  );

  $dark-theme-default: (
    "color": $white,
    "background-color": transparent,
    "border-color": $white
  );

  $dark-theme-hover: (
    "color": $black,
    "background-color": $white,
    "border-color": none
  );

  @include button-basic-style(
    $default,
    $default-hover,
    $dark-theme-default,
    $dark-theme-hover
  );

  &.disabled,
  &:disabled {
    color: map-get($default, "color");

    @at-root .dark-theme & {
      color: map-get($dark-theme-default, "color");
    }
  }
}

// append external link glyph
.btn-secondary[href*="//"]:not([href*="foundation.mozilla.org"]):not([href*="donate.mozilla.org"]):not(.btn-share):not(.btn-recommend) {
  display: inline-flex;
  align-items: center;

  &::after {
    filter: brightness(0);
    content: " ";
    display: block;
    width: 16px;
    height: 14px;
    background: url(../_images/glyphs/external.svg) no-repeat;
    margin-left: 8px;
    position: relative;
    bottom: 1px;
    transition: filter 0.2s ease-in-out;
  }

  @include hover-focus-active {
    &::after {
      filter: brightness(1);
    }
  }

  @at-root .dark-theme & {
    &::after {
      filter: brightness(1);
    }

    @include hover-focus-active {
      &::after {
        filter: brightness(0);
      }
    }
  }
}

.form-control {
  border-radius: 0;
}
