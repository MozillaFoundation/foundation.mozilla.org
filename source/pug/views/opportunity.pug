//-
  This template is used to generate HTML for usage in Mezzanine.
  There are {{ TOKENS }} in place for Mezzanine to target with CMS data.
  `npm build` will compile this to `/dest/opportunity/template/index.html`

extends ../templates/master.pug

block masterParams
  - let isMezzanine = true
  - let pageTitle = `{{ page.meta_title }}`;

include ../partials/sign-up-box.pug

block centerNav
  p {{ page.meta_title }}

block content
  .container page.children.all.count: {{ page.children.all.count }}
  .container page.branch_level: {{ page.branch_level }}
  .container page.html_id: {{ page.html_id|join:""  }}
  | {% comment "page.parent is not a string" %}{% endcomment %}
  .container page.parent: {{ page.parent}}
  .container page.parent.title: {{ page.parent.title }}
  .container
    .row
      .col-8.offset-3
        .row.py-5.justify-content-center
          | {% if page.landingpage.signup %}
          .col-lg-11
            h1.h1-white {{ page.landingpage.header }}
          | {% else %}
          .col-12.mb-2
            h1.h1-white {{ page.landingpage.header }}
          | {% endif %}
    .row
      | {% if page.parent.title != "Opportunities" or page.children.all.count > 0 %}
      .col-3
        ul
          | {% load pages_tags %}
          | {% page_menu "pages/menus/side-menu-items.html" %}
      | {% endif %}
      .col-9
        .row
          | {% if page.landingpage.signup %}
          .cms.col-md-6.col-lg-5.mb-5 {{ page.landingpage.content | safe }}
          .col-md-5.col-lg-5
            .row
              .join-us.half-width.col(data-cta-header=`{{ page.landingpage.signup.header | escape }}`, data-cta-description=`{{ page.landingpage.signup.description | escape }}`)
          | {% else %}
          .cms.col-10.mb-5 {{ page.landingpage.content | safe }}
          | {% endif %}
