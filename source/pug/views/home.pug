extends ../templates/master.pug

include ../partials/pulse-projects.pug

mixin newsItem(data)
  .news-item
    .d-flex.align-items-center.mb-3
      img.mr-2.glyph(src=data.glyph)
      p.h6-gray.mb-0=data.outlet
    h5
      a.h4-medium-black(href=`${data.link}`)=data.headline
    if data.author
      p.italic-black by #{data.author}
    p.small-gray=moment(data.date).format(`MMMM YYYY`)

block heroGuts
  .row
    .col.p-4
      .mb-4: h1.h1-home-white Be a champion of a healthy internet
      p.lead-black We are a global network keeping the internet open and accessible to all.

block content
  .container
    .row.mx-2.mb-5.cta.cta-network
      .col-xs-12.col-md-5.px-4.py-5.cta-box
        h3.h4-light-black Diverse Members, One Mission
        p.body-black Meet and connect with Network members.
        a.btn.btn-ghost(href=`${env.virtualRoot}people`) Member Spotlight

    .row
      .col
        .mb-5.slanty-background
          h4.h2-headings-white Get Involved
    .row
      .col-xs-12.col-md-6.mb-5
        .item-featured.pb-5.px-3.px-sm-4.mt-4
          img.mb-4(src=`${data.project.thumbnail}`)
          h5.h4-light-black=`${data.project.title}`
          p.body-black=`${data.project.description}`
          a.cta-link(href=`${data.project.get_involved_url}`) Join this Project
          .mt-5
            a.btn.btn-ghost(href=`${env.virtualRoot}projects`) See More Projects
      .col-md-6
        h5.h4-light-black Fellowships that Empower Leaders
        p.body-black We provide funding and exciting project-based opportunities to professionals doing game-changing work at the intersection of media, science, security, advocacy, and technology.
        a.cta-link(href=`${env.virtualRoot}opportunity/fellowships`) Be a fellow
        hr
        h5.h4-light-black Leadership Training for Collaboration
        p.body-black Learn the basics of participation, collaboration, and sharing on community-driven projects. Discover what working open can do for your project.
        a.cta-link(href=`${env.virtualRoot}opportunity/training`) Be a leader

    .row
      .col
        .mb-5.slanty-background
          h4.h2-headings-white Latest News
    -
      data.news = data.news.filter((item) => {
        return item.featured;
      });
    .row.mb-5
      .col-md-6.mb-3.d-flex
        .p-5.item-featured
          +newsItem(data.news[0])
          - if (data.news[0].excerpt)
            p.body-black=data.news[0].excerpt
      .col-md-6
        .pb-4
          +newsItem(data.news[1])
          hr
          +newsItem(data.news[2])
          hr
          +newsItem(data.news[3])

    .row
      .col.text-center.mb-5
        a.btn.btn-ghost(href=`${env.virtualRoot}news`) View more news

    .join-us.full-width.col.mb-5
