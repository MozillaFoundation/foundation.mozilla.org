{% load wagtailcore_tags wagtailimages_tags i18n localization homepage_tags blog_tags static %}

<div class="tw-mb-7 tw-pb-7"> 
  <div class="tw-grid tw-grid-cols-12 tw-relative">
    <div class="tw-col-span-12 large:tw-col-span-4 tw-pr-[36px] tw-flex tw-flex-col tw-py-3 large:tw-py-0">
      <div class="tw-flex tw-flex-wrap">
        {% with topics=featured_video_post.blog_post.topics.all %}
          {% for topic in topics %}
            {% localized_version topic as localized_topic %}
            {% get_root_or_page as parent_page %}
            {# If we have a "root" context variable, we know this card is generated on an index page (or index page subroute) #}
            <a class="tw-h6-heading tw-text-blue-80 tw-mr-2 tw-my-1" href="{% localizedroutablepageurl parent_page "entries_by_topic" topic.slug %}">{{ localized_topic }}</a>
            {% if not forloop.last %}
              <span class="tw-h6-heading tw-text-blue-80 tw-mr-2 tw-my-1"> / </span>
            {% endif %}
          {% endfor %}
        {% endwith %}
        <img src="{% static "_images/video-icon.svg" %}" alt="{% trans "information" context "icon description for screen readers" %}" class="tw-h-4 tw-w-4 tw-mr-2 tw-my-1">
        <span class="tw-h6-heading tw-text-gray-40 tw-mly-1"> {{ featured_video_post.blog_post.first_published_at|date:"DATE_FORMAT" }} </span>
      </div>
    <a class="tw-h1-heading tw-text-3xl tw-mt-1 tw-mb-2"  href="{% relocalized_url featured_video_post.blog_post.localized.url %}">{{ featured_video_post.blog.localized.title}}</a>
    <p class="tw-body">{{ featured_video_post.blog_post.get_meta_description }}</p>
    <div class="tw-mt-auto">
      {% include "./blog_authors.html" with blog_page=featured_video_post.blog_post %}
    </div>
  </div>

      <div class="tw-col-span-12 large:tw-col-span-8 tw-order-first large:tw-order-last tw-overflow-hidden">
        {% with featured_video_post.video_url as video_url  %}
          {% if 'player.vimeo.com' in video_url %}
            <div id="featured-video" class="hover:tw-cursor-pointer tw-group tw-aspect-w-16 tw-aspect-h-9 tw-h-full">
              <video class="hero-video tw-absolute tw-top-0 tw-left-0 tw-min-h-full tw-min-w-full tw-object-cover">
                <source src="{{video_url}}" type="video/mp4">
              </video>
              <div class="tw-absolute tw-top-0 tw-left-0 tw-min-h-full tw-min-w-full tw-flex tw-justify-center tw-place-items-center">
                <img class="play-button tw-h-[4rem] tw-w-[4rem] tw-opacity-75 hover:tw-opacity-100" src="{% static "_images/video_play_button.svg" %}" alt="Play Button" />
              </div>
            </div>
          {% else %}
            <div class="embed-responsive embed-responsive-16by9 print:tw-hidden tw-h-full tw-w-full">
              <iframe src="{{ video_url }}" frameborder="0" class="embed-responsive-item" allow="autoplay; encrypted-media" allowfullscreen> </iframe>
            </div>
          {% endif %}
        {% endwith %}
    </div>
  </div>
</div>