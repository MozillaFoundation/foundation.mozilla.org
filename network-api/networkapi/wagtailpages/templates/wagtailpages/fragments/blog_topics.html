{% load blog_tags localization wagtailroutablepage_tags %}

{% for topic in topics %}
    {% localized_version topic as localized_topic %}
    {% get_root_or_page as parent_page %}
    {# If we have a "root" context variable, we know this card is generated on an index page (or index page subroute) #}
    {% with classes="tw-h6-heading tw-text-blue-80 tw-mr-4 tw-py-2 tw-mb-0" %}
        <a class="{{ classes }} {{ extra_classes }}"
           href="{% routablepageurl parent_page "entries_by_topic" topic.slug %}">{{ localized_topic }}</a>
        {% if not forloop.last %}<span class="{{ classes }} {{ extra_classes }}">/</span>{% endif %}
    {% endwith %}
{% endfor %}
