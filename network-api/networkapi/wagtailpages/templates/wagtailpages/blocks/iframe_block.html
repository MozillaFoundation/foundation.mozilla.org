{% extends "./base_streamfield_block.html" %}
{% load wagtailcore_tags %}

{% comment %}
The iframe_block.html is used on Article pages and Blog pages.
{% endcomment %}

{% block block_container_classes %}
  {% if value.full_width_iframe %} full-width {% endif %}
{% endblock %}

{% block block_row_classes %}
no-gutters
{% endblock %}

{% block main_block_class %}
streamfield-content 
{% if value.full_width_iframe %} full-width
{% elif value.wide_iframe %} wide
{% endif %}
{% endblock %}

{% block block_content %}
<div class="my-2">
  <div class="embed-responsive embed-responsive-16by9" {% if value.height %}style="height: {{value.height}}px;"
    {% endif %}>
    <iframe src="{{ value.url }}" class="embed-responsive-item"></iframe>
  </div>
  {% if value.caption %}
  <p class="body-small mt-2">
    {% if value.captionURL %}<a href="{{ value.captionURL }}">{% endif %}
      {{ value.caption }}
      {% if value.captionURL %}</a>{% endif %}
  </p>
  {% endif %}
</div>
{% endblock %}
